import{r as k,j as e,L as I,e as L}from"./app-N0AuUhLA.js";import{B as E}from"./button-CI3LEGGv.js";import{T as C,S as A,A as P}from"./trash-2-DJcgg7Pr.js";import{z as D}from"./transition-D50_5aUH.js";import{L as z}from"./loader-circle-BP-9jNtc.js";const B={create:{m:"POST",t:"Registrar",c:"bg-blue-500 hover:bg-blue-600",i:e.jsx(A,{className:"w-4 h-4"}),d:"Ingresa los datos cuidadosamente.",p:"REGISTRO DE"},update:{m:"PATCH",t:"Actualizar",c:"bg-green-600 hover:bg-green-500",i:e.jsx(A,{className:"w-4 h-4"}),d:"Actualiza los datos con cuidado.",p:"ACTUALIZAR"},delete:{m:"DELETE",t:"Eliminar",c:"bg-red-500 hover:bg-red-700 destructive",i:e.jsx(C,{className:"w-4 h-4"}),d:"¿Estás seguro que deseas eliminar? Esta acción es irreversible.",p:"ELIMINAR",r:!0},info:{m:"POST",t:"",c:"bg-gray-500 hover:bg-gray-600",i:null,d:"Consulta la información.",p:"INFORMACIÓN DE",r:!0}},v={create:"border-blue-300 dark:border-blue-950",update:"border-green-300 dark:border-green-900",delete:"border-red-300 dark:border-red-900",info:"border-gray-300 dark:border-gray-700"},w=(r,a)=>r?.id??r?.[`id_${a}`],G=r=>typeof r=="string"?`?tipo=${r}`:r?`?${new URLSearchParams(Object.entries(r).map(([a,o])=>[a,String(o)]))}`:"",J=(r,a,o,s,p,b,g,i,f,h,d,M,x)=>k.useMemo(()=>{const l=r||"create",t=B[l],j=w(o,s);(a||s).replace(/s$/i,"");const N=`${t.p} `,O=G(h),T=Object.values(d??{}).some(m=>m instanceof File),$=m=>{m.preventDefault();const u=t.m==="POST"?route(`${s}.store`):route(`${s}.update`,{[s]:j});if(T){const n=new FormData,S=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!S)return;n.append("_token",S),t.m!=="POST"&&n.append("_method",t.m),Object.entries(d).forEach(([F,c])=>c!=null&&n.append(F,c instanceof File?c:String(c))),L.post(u,n,{forceFormData:!0,preserveScroll:!0,onSuccess:x})}else t.m==="POST"?p(u):t.m==="PATCH"?b(u):g(route(`${s}.destroy`,{[s]:j}))},y=()=>t.t?e.jsxs(E,{size:"sm",type:"submit",disabled:i,className:`${t.c} flex items-center gap-2 text-white`,children:[i?e.jsx(z,{className:"w-4 h-4 animate-spin"}):t.i,t.t]}):null,R=e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(I,{href:`/${s}${O}`,children:e.jsxs(E,{size:"sm",variant:"outline",children:[e.jsx(P,{className:"w-4 h-4"})," Regresar"]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{show:f,enter:"transition",enterFrom:"opacity-0",leave:"transition",leaveTo:"opacity-0",children:e.jsx("p",{className:`text-sm ${l==="delete"?"text-red-600":"text-neutral-600"} dark:text-neutral-400`,children:"Guardado"})}),e.jsx(y,{})]})]});return{title:N,description:t.d,readonly:!!t.r,cardBorderClass:v[l],handleSubmit:$,FooterButtons:R}},[r,a,o,s,p,b,g,i,f,h,d,x]);export{J as u};
