import{r as s,j as e,H as h,c as j}from"./app-CTHJeX1L.js";import{A as g}from"./app-layout-DZl7m3kS.js";import{S as D,H as b}from"./layout-B5qrEOIF.js";import{B as p}from"./button-COEW_BXt.js";import{D as N,a as E,b as S,c as w}from"./dialog-DfzAKLNq.js";import{L as c}from"./loader-circle-tU9d4Dv0.js";import{D as L,U as y}from"./upload-Dix1VCX9.js";/* empty css            */import"./index-DnQ_TD2r.js";import"./sidebar_cita-BOOQZpyZ.js";import"./index-FE86NjM7.js";import"./index-CVASjcgI.js";import"./index-mp7FV4wo.js";const B=[{title:"Opciones de base de datos",href:"/settings/database"}];function _(){const d=L,[t,n]=s.useState(!1),[o,l]=s.useState(!1),[m,r]=s.useState(!1),[i,x]=s.useState(null),u=()=>{n(!0),window.location.href=route("export.db"),setTimeout(()=>{n(!1),r(!0)},2e3)},f=()=>{if(!i)return;l(!0);const a=new FormData;a.append("backup",i),j.post(route("import.db"),a,{onFinish:()=>{l(!1),r(!0)}})};return e.jsxs(g,{breadcrumbs:B,children:[e.jsx(h,{title:"Base de Datos"}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(b,{title:"Base de datos",description:"Exportar o importar"}),e.jsx("div",{className:"flex justify-start",children:e.jsxs(p,{variant:"default",size:"sm",className:"flex items-center gap-2",onClick:u,disabled:t,children:[t?e.jsx(c,{className:"w-4 h-4 animate-spin"}):e.jsx(d,{className:"w-4 h-4"}),t?"Exportando...":"Exportar Base de Datos"]})}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx("input",{type:"file",accept:".sql,.txt",className:"border rounded p-2 text-sm",onChange:a=>x(a.target.files?.[0]||null)}),e.jsxs(p,{variant:"secondary",size:"sm",className:"flex items-center gap-2",onClick:f,disabled:o||!i,children:[o?e.jsx(c,{className:"w-4 h-4 animate-spin"}):e.jsx(y,{className:"w-4 h-4"}),o?"Importando...":"Importar Base de Datos"]})]})]})}),e.jsx(N,{open:m,onOpenChange:r,children:e.jsxs(E,{children:[e.jsx(S,{children:e.jsx(w,{children:"Operación completada"})}),e.jsx("p",{children:"La operación se completó correctamente."})]})})]})}export{_ as default};
