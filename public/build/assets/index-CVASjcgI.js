const c=i=>{if(!i||!i.query&&!i.mergeQuery)return"";const r=i.query??i.mergeQuery,u=i.mergeQuery!==void 0,s=e=>e===!0?"1":e===!1?"0":e.toString(),t=new URLSearchParams(u&&typeof window<"u"?window.location.search:"");for(const e in r){if(r[e]===void 0||r[e]===null){t.delete(e);continue}if(Array.isArray(r[e]))t.has(`${e}[]`)&&t.delete(`${e}[]`),r[e].forEach(n=>{t.append(`${e}[]`,n.toString())});else if(typeof r[e]=="object"){t.forEach((n,o)=>{o.startsWith(`${e}[`)&&t.delete(o)});for(const n in r[e])typeof r[e][n]>"u"||["string","number","boolean"].includes(typeof r[e][n])&&t.set(`${e}[${n}]`,s(r[e][n]))}else t.set(e,s(r[e]))}const f=t.toString();return f.length>0?`?${f}`:""};export{c as q};
